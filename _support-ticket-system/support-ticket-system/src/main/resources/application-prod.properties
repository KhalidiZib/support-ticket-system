# ========== PRODUCTION PROFILE ==========
# Activated with: --spring.profiles.active=prod

# Production database settings
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Security first
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=strict
server.error.include-stacktrace=never
server.error.include-message=on_param

# Production logging
logging.level.root=WARN
logging.level.com.ticketsystem=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.file.name=/var/log/support-ticket-system/app.log

# Enable all features
app.scheduling.cleanup.enabled=true
app.scheduling.notifications.enabled=true
app.sms.enabled=true
app.sms.test-mode=false

# Production CORS (update with your domain)
app.cors.allowed-origins=https://yoursupportdomain.com,https://www.yoursupportdomain.com
app.cors.allow-credentials=true

# Connection pool optimization for production
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=10

# Cache optimization
spring.cache.type=redis
spring.redis.host=localhost
spring.redis.port=6379
spring.cache.redis.time-to-live=3600000

# Monitoring and metrics
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=never
management.metrics.export.prometheus.enabled=true

# File upload limits for production
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# SSL/TLS configuration (if using HTTPS)
server.ssl.enabled=true
server.ssl.key-store-type=PKCS12
server.ssl.key-store=classpath:keystore.p12
server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD}
server.ssl.key-alias=tomcat

# Rate limiting (consider adding Spring Cloud Gateway)
app.rate-limit.enabled=true
app.rate-limit.requests-per-minute=100
app.rate-limit.burst-capacity=20

# Use environment variables (MUST be set in production)
# Remove or comment out hardcoded sensitive values
# spring.datasource.password=${DB_PASSWORD}
# spring.mail.password=${EMAIL_PASSWORD}
# app.jwt.secret=${JWT_SECRET}